sequenceDiagram
    participant Frontend as Frontend<br/>(StyleAdjustmentScreen)
    participant API as useApi Hook
    participant Server as Express Server<br/>(app.js)
    participant Router as Router System
    participant ProfileRoutes as Profile Routes<br/>(server/routes/profile.js)
    
    Note over Frontend,ProfileRoutes: üîç AN√ÅLISE DA CAUSA RAIZ DOS ERROS 404
    
    rect rgb(255, 245, 245)
        Note over Frontend: üöÄ Componente inicia carregamento
        Frontend->>API: loadCategories()
        API->>Server: GET /api/style/categories
        
        Note over Server: ‚ùå PROBLEMA 1: Rota n√£o registrada
        Server-->>API: ‚ùå 404 Not Found
        API-->>Frontend: ‚ùå ApiError: Endpoint n√£o encontrado
        Note over Frontend: ‚ùå StyleAdjustmentScreen.tsx:156
    end
    
    rect rgb(255, 245, 245)
        Frontend->>API: loadUserPreferences()
        API->>Server: GET /api/style-preferences
        
        Note over Server: ‚ùå PROBLEMA 2: Rota n√£o registrada
        Server-->>API: ‚ùå 404 Not Found
        API-->>Frontend: ‚ùå ApiError: Endpoint n√£o encontrado
        Note over Frontend: ‚ùå StyleAdjustmentScreen.tsx:209
    end
    
    rect rgb(255, 245, 245)
        Frontend->>API: loadCompletionStats()
        API->>Server: GET /api/style/completion-stats/1
        
        Note over Server: ‚ùå PROBLEMA 3: Rota n√£o registrada
        Server-->>API: ‚ùå 404 Not Found
        API-->>Frontend: ‚ùå ApiError: Endpoint n√£o encontrado
        Note over Frontend: ‚ùå StyleAdjustmentScreen.tsx:225
    end
    
    rect rgb(245, 245, 255)
        Note over Server,ProfileRoutes: üîç INVESTIGA√á√ÉO DO SERVIDOR
        
        Note over Server: ‚úÖ server/app.js EXISTE
        Note over Server: ‚ùì Registra rotas /api/profile?
        
        alt ‚ùå CEN√ÅRIO ATUAL
            Note over Server: app.use('/api/profile', ???)
            Note over Server: Rota n√£o encontrada ou incorreta
        else ‚úÖ CEN√ÅRIO CORRETO
            Server->>Router: app.use('/api/profile', profileRoutes)
            Router->>ProfileRoutes: Route matching
            ProfileRoutes-->>Router: Response
            Router-->>Server: Response
        end
    end
    
    rect rgb(255, 255, 245)
        Note over Frontend,ProfileRoutes: üéØ CAUSAS IDENTIFICADAS
        
        Note over Frontend: 1. Frontend chama URLs corretas
        Note over API: 2. useApi Hook funciona corretamente
        Note over Server: 3. Express server roda na porta 3000
        Note over Router: 4. ‚ùå Rotas n√£o registradas no app.js
        Note over ProfileRoutes: 5. ‚ùå Arquivo existe mas n√£o est√° conectado
    end
    
    rect rgb(245, 255, 245)
        Note over Frontend,ProfileRoutes: üõ†Ô∏è SOLU√á√ÉO NECESS√ÅRIA
        
        Note over Server: 1. Verificar server/app.js
        Note over Server: 2. Registrar import profileRoutes
        Note over Server: 3. Adicionar app.use('/api', profileRoutes)
        Note over ProfileRoutes: 4. Verificar se arquivo tem exports corretos
    end