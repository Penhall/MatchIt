# =====================================================
# CONFIGURAÇÕES GERAIS
# =====================================================

# Ambiente da aplicação
NODE_ENV=development
PORT=3000

# Informações da aplicação
APP_NAME=MatchIt Analytics
APP_VERSION=3.0.0
TZ=America/Sao_Paulo

# =====================================================
# CONFIGURAÇÕES DO BANCO DE DADOS PRINCIPAL
# =====================================================

# PostgreSQL Principal (suas configurações atuais)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=matchit_db
DB_USER=matchit
DB_PASSWORD=matchit123
DB_SSL=false

# Pool de conexões
DB_POOL_SIZE=20
DB_MAX_POOL_SIZE=50
DB_TIMEOUT=10000

# URL completa do banco (alternativa)
DATABASE_URL=postgresql://matchit:matchit123@localhost:5432/matchit_db

# Banco de teste (opcional)
TEST_DATABASE_URL=postgresql://matchit:matchit123@localhost:5432/matchit_db_test

# =====================================================
# CONFIGURAÇÕES DE REDIS VIA DOCKER - ATUALIZADO
# =====================================================

# Redis via Docker
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=matchit_redis_123
REDIS_DB=0
REDIS_TTL=300

# URL do Redis com senha
REDIS_URL=redis://:matchit_redis_123@localhost:6379

# Configurações de conexão Redis
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_RETRY_ATTEMPTS=3
REDIS_RETRY_DELAY=1000

# =====================================================
# CONFIGURAÇÕES DE AUTENTICAÇÃO (suas atuais)
# =====================================================

# JWT Settings
JWT_SECRET=chave_secreta_jwt
JWT_EXPIRES_IN=30d

# Chave adicional para analytics
APP_SECRET=analytics_secret_key_change_in_production

# =====================================================
# CONFIGURAÇÕES DE CORS (suas atuais + analytics)
# =====================================================

# Origens CORS permitidas
CORS_ORIGINS=http://localhost:4173,http://localhost:5173,http://localhost:3000,http://localhost:8081
CORS_CREDENTIALS=true

# =====================================================
# CONFIGURAÇÕES DO ANALYTICS ENGINE - NOVO
# =====================================================

# Processamento de eventos
ANALYTICS_REALTIME=true
ANALYTICS_BATCH=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=30000
ANALYTICS_MAX_RETRIES=3

# Validação e qualidade de dados
ANALYTICS_VALIDATION=true
ANALYTICS_DEDUPLICATION=true
ANALYTICS_SCHEMA_VALIDATION=true

# Sampling (100% em desenvolvimento)
ANALYTICS_SAMPLING_RATE=1.0
ANALYTICS_HIGH_VALUE_SAMPLING_RATE=1.0

# Privacidade e LGPD
ANALYTICS_RESPECT_DNT=true
ANALYTICS_ANONYMIZE_IP=true
ANALYTICS_GDPR_MODE=true

# Performance
ANALYTICS_COMPRESSION=false
ANALYTICS_VERBOSE=true
ANALYTICS_QUERY_LOG=true
ANALYTICS_PERF_TRACKING=true

# Limpeza automática
ANALYTICS_AUTO_CLEANUP=true
ANALYTICS_AUTO_BACKUP=false

# Dados mock para desenvolvimento
ANALYTICS_MOCK_DATA=true
ANALYTICS_MOCK_SIZE=1000

# API Testing
ANALYTICS_API_TESTING=true

# =====================================================
# CONFIGURAÇÕES DE ALERTAS - NOVO
# =====================================================

# Sistema de alertas
ANALYTICS_ALERTS=true

# Email alerts (configurar com seu email)
ALERT_EMAIL=true
ALERT_EMAIL_RECIPIENTS=admin@matchit.com,dev@matchit.com

# Slack (desabilitado para desenvolvimento)
ALERT_SLACK=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#analytics-alerts

# SMS (desabilitado para desenvolvimento)
ALERT_SMS=false
ALERT_SMS_NUMBERS=

# =====================================================
# CONFIGURAÇÕES DE EMAIL - NOVO
# =====================================================

# SMTP Settings (configurar com suas credenciais)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=seu_email@gmail.com
EMAIL_PASS=sua_senha_de_app
EMAIL_FROM=MatchIt Analytics <seu_email@gmail.com>

# Diretório de templates
EMAIL_TEMPLATE_DIR=./templates/emails

# =====================================================
# CONFIGURAÇÕES DE RELATÓRIOS - NOVO
# =====================================================

# Sistema de relatórios
ANALYTICS_REPORTS=true
REPORTS_DIR=./reports
REPORTS_TEMPLATES_DIR=./templates/reports

# Destinatários dos relatórios (usar seus emails)
DAILY_REPORT_RECIPIENTS=admin@matchit.com
WEEKLY_REPORT_RECIPIENTS=admin@matchit.com,dev@matchit.com
MONTHLY_REPORT_RECIPIENTS=admin@matchit.com

# Formatos de relatório
REPORTS_ENABLE_PDF=true
REPORTS_ENABLE_HTML=true
REPORTS_ENABLE_CSV=true
REPORTS_ENABLE_XLSX=true

# =====================================================
# CONFIGURAÇÕES DE SEGURANÇA - NOVO
# =====================================================

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Headers de segurança
SECURITY_HSTS=false
SECURITY_NO_SNIFF=true
SECURITY_X_FRAME=DENY

# =====================================================
# CONFIGURAÇÕES DE LOGS - NOVO
# =====================================================

# Configuração de logs
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILE=./logs/analytics.log

# =====================================================
# CONFIGURAÇÕES DE MONITORAMENTO - NOVO
# =====================================================

# Métricas (desabilitado para desenvolvimento)
ENABLE_PROMETHEUS=false
PROMETHEUS_PORT=9090

ENABLE_STATSD=false
STATSD_HOST=localhost
STATSD_PORT=8125

# APM (configurar se necessário)
NEWRELIC_LICENSE_KEY=
NEWRELIC_APP_NAME=MatchIt Analytics Dev

SENTRY_DSN=
SENTRY_ENVIRONMENT=development

DATADOG_API_KEY=
DATADOG_APP_KEY=

# =====================================================
# CONFIGURAÇÕES DE INTEGRAÇÕES - NOVO
# =====================================================

# Google Analytics (desabilitado para desenvolvimento)
GA_ENABLED=false
GA_TRACKING_ID=

# Mixpanel (desabilitado para desenvolvimento)
MIXPANEL_ENABLED=false
MIXPANEL_TOKEN=

# Amplitude (desabilitado para desenvolvimento)
AMPLITUDE_ENABLED=false
AMPLITUDE_API_KEY=

# Webhook personalizado (desabilitado para desenvolvimento)
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=

# =====================================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO - NOVO
# =====================================================

# Debug
DEBUG=analytics:*
DEBUG_SQL=true
DEBUG_CACHE=true
DEBUG_ALERTS=true

# Hot reload
WATCH_MODE=true
WATCH_EXTENSIONS=js,ts,json

# Testing
TEST_TIMEOUT=30000
TEST_COVERAGE_THRESHOLD=70

# =====================================================
# CONFIGURAÇÕES DE FEATURE FLAGS - NOVO
# =====================================================

# Funcionalidades (habilitadas para desenvolvimento)
FEATURE_REALTIME_DASHBOARD=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_ML_ANOMALY_DETECTION=true
FEATURE_PREDICTIVE_MODELS=false
FEATURE_CUSTOM_DASHBOARDS=true
FEATURE_API_V2=true

# A/B Testing (desabilitado para desenvolvimento)
AB_TESTING_ENABLED=false
AB_TESTING_PROVIDER=

# =====================================================
# CONFIGURAÇÕES ESPECÍFICAS DE DESENVOLVIMENTO
# =====================================================

# Clustering (desabilitado para desenvolvimento)
CLUSTER_MODE=false
CLUSTER_WORKERS=1

# Memory limits
NODE_OPTIONS=--max-old-space-size=2048

# SSL (desabilitado para desenvolvimento)
SSL_ENABLED=false
SSL_KEY_PATH=
SSL_CERT_PATH=

# Proxy (desabilitado para desenvolvimento)
BEHIND_PROXY=false
TRUST_PROXY=false

# =====================================================
# CONFIGURAÇÕES DE BACKUP - NOVO
# =====================================================

# Backup (desabilitado para desenvolvimento)
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_DESTINATION=./backups

# S3 Backup (desabilitado para desenvolvimento)
S3_BACKUP_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=

# =====================================================
# CONFIGURAÇÕES DE STORAGE - NOVO
# =====================================================

# Storage local
STORAGE_PROVIDER=local
STORAGE_PATH=./storage

# CDN (desabilitado para desenvolvimento)
CDN_ENABLED=false
CDN_URL=

# =====================================================
# CONFIGURAÇÕES DE DASHBOARD - NOVO
# =====================================================

# Dashboard
DASHBOARD_REFRESH_INTERVAL=30000
DASHBOARD_CACHE_TTL=60000
DASHBOARD_MAX_WIDGETS=20
DASHBOARD_DEFAULT_THEME=light
DASHBOARD_ENABLE_DARK_MODE=true

# =====================================================
# CONFIGURAÇÕES DE DOCKER - REDIS
# =====================================================

# Container Redis
REDIS_CONTAINER_NAME=matchit-redis
REDIS_DOCKER_IMAGE=redis:7-alpine
REDIS_DOCKER_NETWORK=matchit_network

# Redis Commander (Interface Web)
REDIS_COMMANDER_ENABLED=true
REDIS_COMMANDER_PORT=8081
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin123

# =====================================================
# CONFIGURAÇÕES ESPECÍFICAS DO MATCHIT
# =====================================================

# Configurações específicas do seu sistema (manter existentes)
# Adicione aqui outras variáveis que você já tem

# Exemplo de configurações que você pode ter:
# RECOMMENDATION_CACHE_TTL=300
# MAX_RECOMMENDATIONS=20
# MATCH_ALGORITHM_VERSION=2.0

# =====================================================
# OBSERVAÇÕES IMPORTANTES - REDIS DOCKER
# =====================================================

# 1. REDIS: Use os comandos do script redis-docker.sh para gerenciar
# 2. EMAIL: Configure EMAIL_USER e EMAIL_PASS com suas credenciais reais
# 3. INTERFACE WEB: Redis Commander disponível em http://localhost:8081
# 4. LOGS: O diretório ./logs será criado automaticamente
# 5. REPORTS: O diretório ./reports será criado automaticamente
# 6. Para produção, altere NODE_ENV=production e ajuste outras configurações

# =====================================================
# COMANDOS ÚTEIS PARA REDIS DOCKER
# =====================================================

# Iniciar Redis: ./scripts/redis-docker.sh start
# Status: ./scripts/redis-docker.sh status  
# CLI: ./scripts/redis-docker.sh cli
# Interface Web: ./scripts/redis-docker.sh commander
# Parar: ./scripts/redis-docker.sh stop